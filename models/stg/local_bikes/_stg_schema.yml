version: 2

models:

  - name: stg_brands
    description: |
      Staging table for brand reference data.

      Grain: 1 row per brand
    columns:
      - name: brand_sk
        description: Surrogate key for the brand
        tests: [not_null, unique]

      - name: brand_id
        description: Business identifier of the brand
        tests: [not_null]

      - name: brand_name
        description: Brand name


  - name: stg_categories
    description: |
      Staging table for product categories.

      Grain: 1 row per category
    columns:
      - name: category_sk
        description: Surrogate key for the category
        tests: [not_null, unique]

      - name: category_id
        description: Business identifier of the category
        tests: [not_null]

      - name: category_name
        description: Category name


  - name: stg_customers
    description: |
      Staging table for customer reference data.

      Grain: 1 row per customer
    columns:
      - name: customer_sk
        description: Surrogate key for the customer
        tests: [not_null, unique]

      - name: customer_id
        description: Business identifier of the customer
        tests: [not_null]

      - name: first_name
        description: Customer first name

      - name: last_name
        description: Customer last name

      - name: phone
        description: Customer phone number

      - name: email
        description: Customer email address

      - name: street
        description: Street address of the customer

      - name: city
        description: City of residence

      - name: state
        description: State or region of residence

      - name: zip_code
        description: Postal code of the customer address


  - name: stg_order_items
    description: |
      Staging table for order line items.

      Grain: 1 row per order and item
    columns:
      - name: order_item_sk
        description: Surrogate key for the order item (order_id + item_id)
        tests: [not_null, unique]

      - name: order_id
        description: Business identifier of the order
        tests: [not_null]

      - name: item_id
        description: Line item identifier within the order
        tests: [not_null]

      - name: product_id
        description: Business identifier of the product
        tests: [not_null]

      - name: quantity
        description: Number of units ordered

      - name: list_price
        description: Product list price at order time

      - name: discount
        description: Discount applied to the order item


  - name: stg_orders
    description: |
      Staging table for customer orders.

      Grain: 1 row per order
    columns:
      - name: order_sk
        description: Surrogate key for the order
        tests: [not_null, unique]

      - name: order_id
        description: Business identifier of the order
        tests: [not_null]

      - name: customer_id
        description: Business identifier of the customer
        tests: [not_null]

      - name: store_id
        description: Business identifier of the store
        tests: [not_null]

      - name: staff_id
        description: Business identifier of the staff member

      - name: order_status
        description: Status code of the order

      - name: order_date
        description: Date the order was placed
        tests: [not_null]

      - name: required_date
        description: Date requested by the customer

      - name: shipped_date
        description: Date the order was shipped (nullable)


  - name: stg_products
    description: |
      Staging table for product reference data.

      Grain: 1 row per product
    columns:
      - name: product_sk
        description: Surrogate key for the product
        tests: [not_null, unique]

      - name: product_id
        description: Business identifier of the product
        tests: [not_null]

      - name: brand_id
        description: Business identifier of the brand
        tests: [not_null]

      - name: category_id
        description: Business identifier of the category
        tests: [not_null]

      - name: model_year
        description: Model year of the product

      - name: list_price
        description: Product list price

      - name: product_name
        description: Product display name


  - name: stg_staffs
    description: |
      Staging table for staff reference data.

      Grain: 1 row per staff member
    columns:
      - name: staff_sk
        description: Surrogate key for the staff member
        tests: [not_null, unique]

      - name: staff_id
        description: Business identifier of the staff member
        tests: [not_null]

      - name: store_id
        description: Business identifier of the store
        tests: [not_null]

      - name: manager_id
        description: Business identifier of the manager (self-reference)

      - name: first_name
        description: Staff first name

      - name: last_name
        description: Staff last name

      - name: email
        description: Staff email address

      - name: phone
        description: Staff phone number

      - name: is_active
        description: Indicates whether the staff member is active


  - name: stg_stocks
    description: |
      Staging table for product stock levels by store.

      Grain: 1 row per product and store
    columns:
      - name: stock_sk
        description: Surrogate key for stock (product_id + store_id)
        tests: [not_null, unique]

      - name: product_id
        description: Business identifier of the product
        tests: [not_null]

      - name: store_id
        description: Business identifier of the store
        tests: [not_null]

      - name: quantity
        description: Quantity available in stock


  - name: stg_stores
    description: |
      Staging table for store reference data.

      Grain: 1 row per store
    columns:
      - name: store_sk
        description: Surrogate key for the store
        tests: [not_null, unique]

      - name: store_id
        description: Business identifier of the store
        tests: [not_null]

      - name: store_name
        description: Store display name

      - name: phone
        description: Store contact phone number

      - name: email
        description: Store contact email address

      - name: street
        description: Street address of the store

      - name: city
        description: City where the store is located

      - name: state
        description: State or region where the store is located

      - name: zip_code
        description: Postal code of the store address
